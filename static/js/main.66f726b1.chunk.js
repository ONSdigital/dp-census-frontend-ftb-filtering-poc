(this["webpackJsonpdp-census-frontend-ftb-filtering-poc"]=this["webpackJsonpdp-census-frontend-ftb-filtering-poc"]||[]).push([[0],{11:function(e,t,a){},21:function(e,t,a){e.exports=a.p+"static/media/Census2021_whiteback.3edebd2f.png"},24:function(e,t,a){e.exports=a(36)},29:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(20),l=a.n(s),i=(a(29),a(11),a(10)),c=a.n(i),o=a(14),m=a(5),d=a(6),u=a(8),p=a(7),f=a(21),h=a.n(f),g=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"header col-wrap"},r.a.createElement("div",{className:"col"},r.a.createElement("img",{className:"logo top-logo",src:"https://cdn.ons.gov.uk/assets/images/ons-logo/v2/ons-logo.svg",alt:"Office for National Statistics"}),r.a.createElement("img",{className:"logo top-logo",src:h.a,alt:"Census 2021 logo"})))),r.a.createElement("div",{className:"primary-nav print--hide page-title font-size--sm"}))}}]),a}(r.a.Component),b=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("img",{className:"footer-license__img",alt:"OGL",src:"https://cdn.ons.gov.uk/assets/images/logo-ogl-footer.svg",width:"60"}),r.a.createElement("p",{className:"footer-license__text margin-left-sm--0"},"All content is available under the ",r.a.createElement("a",{className:"icon--hide",href:"http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/",target:"_blank",rel:"noopener noreferrer"},"Open Government Licence v3.0")," ",r.a.createElement("span",{className:"icon icon-external--light-small"}),", except where otherwise stated"))}}]),a}(r.a.Component),v=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"})}}]),a}(r.a.Component),E=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={name:""},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.name;this.setState({name:e,codeBook:{},indexAddingDimOpt:-1}),this.getCodeBook()}},{key:"getCodeBook",value:function(){var e=Object(o.a)(c.a.mark((function e(){var t,a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET"},e.prev=1,e.next=4,fetch(this.ftbDomain+"/codebook"+this.props.match.params.name,t);case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),a={dataset:{name:"Example",digest:"24aca09d162196ce64c5801321fb31e8eab8670dae0a4a2859f560e979bcc556",description:"Example dataset for validation",size:7,ruleRootVariable:"city"},codebook:[{name:"city",label:"City",codes:["0","1","2"],labels:["London","Liverpool","Belfast"]},{name:"sex",label:"Sex",codes:["0","1"],labels:["Male","Female"]},{name:"siblings",label:"Number of siblings",codes:["0","1","2","3","4","5","6"],labels:["No siblings","1 sibling","2 siblings","3 siblings","4 siblings","5 siblings","6 or more siblings"]},{name:"siblings_3",label:"Number of siblings (3 mappings)",codes:["0","1-2","3+"],labels:["No siblings","1 or 2 siblings","3 or more siblings"],mapFrom:["siblings"],mapFromCodes:["0","1-2","","3+","","",""]}]};case 13:this.setState({codeBook:a});case 14:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=[];if(null!=this.state.codeBook&&null!=this.state.codeBook.codebook)for(var t=this.state.codeBook.codebook,a=0;a<t.length;a++){var n=r.a.createElement("li",{id:"filter-option",className:"white-background margin-left-md--2 margin-right-md--2 margin-right-sm--1 margin-left-sm--1 filter-overview__add"},r.a.createElement("div",{className:"col--lg-56 min-height--10 padding-left-sm--0 padding-left-md--1"},r.a.createElement("div",{className:"col col--md-8 col--lg-8 min-height--4"},r.a.createElement("a",{className:"filter-overview__link--add",href:"/filters/c53f1a7c-ecf1-4abf-a104-f8f00cd57994/dimensions/aggregate"},r.a.createElement("span",{className:"dimension-button btn btn--tertiary margin-left-md--2 margin-left-sm--1  font-weight-700 "},"Add ",r.a.createElement("span",{className:"visuallyhidden"},t[a].label)))),r.a.createElement("div",{className:"dimension-name col col--md-11 col--lg-14 margin-left-sm--6 height-sm--3 height-md--6 overflow--hidden margin-top-md--3 margin-bottom-sm--2"},r.a.createElement("strong",null,r.a.createElement("span",{id:"filter-option-label",className:"font-size-16"},t[a].label))),r.a.createElement("div",{id:"number-added-aggregate",className:"col col--md-20 col--lg-30"},r.a.createElement("div",{className:"font-size--16 height-sm--3 height-md--10 nowrap-sm vertical-align-middle margin-left-sm--4 list--ellipses-sm overflow--hidden"},r.a.createElement("div",{className:"height-sm--3 max-height-md--9 vertical-align-middle__contents--md list--ellipses-md"},r.a.createElement("ul",{className:"list list--pipe-seperated list--pipe-seperated-ellipses"},r.a.createElement("span",null,"Nothing added")))))));e.push(n)}return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("h1",{className:"wrapper"},"Dataset: ",this.props.match.params.name),r.a.createElement("div",{className:"wrapper adjust-font-size--16 page-content link-adjust background--gallery"},r.a.createElement("ul",{className:"list--neutral filter-overview"},r.a.createElement("li",{className:"margin-left--0 padding-bottom--2 padding-top--0 padding-right--2 width-lg--56"},r.a.createElement("a",{className:"float-el--right-md float-el--right-sm float-el--right-lg",href:"/filters/c53f1a7c-ecf1-4abf-a104-f8f00cd57994/dimensions/clear-all"},"Clear filters")),e),r.a.createElement("div",{className:"btn--no-click padding-bottom--4 padding-left--2 padding-top--2"},r.a.createElement("div",{className:"filter-overview__error-container",id:"error-container"}),r.a.createElement("form",{method:"post",action:"/filters/c53f1a7c-ecf1-4abf-a104-f8f00cd57994/submit"},r.a.createElement("input",{id:"preview-download",type:"submit",value:"Apply filters",className:"btn btn--primary btn--primary-disabled btn--thick btn--wide btn--big btn--focus margin-right--2 font-weight-700 font-size--17",name:"preview-and-download"})))),r.a.createElement(v,null),r.a.createElement(b,null))}}]),a}(r.a.Component),w=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).ftbDomain="http://99.80.12.125:10100/v6",n.state={results:[]},n.handleSubmit=function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n.submitForm();case 3:a=e.sent,n.setState({submitSuccess:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={searchString:"",results:[]},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getDatasets()}},{key:"setSearchInput",value:function(e){this.setState({searchString:e})}},{key:"getDatasets",value:function(){var e=Object(o.a)(c.a.mark((function e(){var t,a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET"},e.prev=1,e.next=4,fetch(this.ftbDomain+"/datasets",t);case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),a=[{name:"Example",digest:"24aca09d162196ce64c5801321fb31e8eab8670dae0a4a2859f560e979bcc556",description:"Example dataset for validation",size:7,ruleRootVariable:"city"}];case 13:return this.setState({results:a}),e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;return this.state.results.length>0&&(e=this.state.results.map((function(e){return r.a.createElement("li",{className:"col col--md-34 col--lg-50 search-results__item search-result-item"},r.a.createElement("a",{href:document.location.href+"/dataset/"+e.name},e.name),r.a.createElement("p",{className:"search-results__meta"},e.description))}))),r.a.createElement("div",{className:"wrapper"},r.a.createElement("h1",null,"List of all datasets loaded in from FTB"),r.a.createElement("div",{className:"search-results"},r.a.createElement("ul",{className:"list--neutral flush"},e)))}}]),a}(r.a.Component),N=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return console.log("got in here"),r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement(w,null),r.a.createElement(b,null))}}]),a}(r.a.Component),k=a(22),y=a(1);var j=function(){return console.log("should route"),r.a.createElement(k.a,null,r.a.createElement("div",null,r.a.createElement(y.c,null,r.a.createElement(y.a,{path:"/dp-census-frontend-ftb-filtering-poc/dataset/:name",component:E}),r.a.createElement(y.a,{path:"/dp-census-frontend-ftb-filtering-poc/",component:N,exact:!0}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.66f726b1.chunk.js.map